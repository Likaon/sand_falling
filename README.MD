# ğŸ–ï¸ Granular Simulator with Pymunk and Pygame

This project implements a granular simulator in Python, using Pymunk for physics and Pygame for rendering. The goal is to demonstrate how particles (sand grains) can be simulated in real time, interacting with obstacles and forming piles, in a modular and scalable way.

## âš™ï¸ Installation and Execution
1. Clone the repository: git clone https://github.com/Likaon/Sand_Falling.git and then cd Sand_Falling  
2. Create a virtual environment (optional, recommended): python -m venv venv and activate with venv\Scripts\activate on Windows or source venv/bin/activate on Linux/Mac  
3. Install dependencies: pip install -r requirements.txt  
4. Run the simulator: python main.py  

## ğŸ“¸ Screenshots / GIFs
Add screenshots or GIFs of the simulation running, for example using ScreenToGif on Windows or Peek on Linux. Example: ![Simulation Screenshot](docs/screenshot.png)

## ğŸ§ª Technical Explanation
- Physics Engine (PhysicsEngine): uses Pymunk to simulate gravity, collisions, and friction. Each grain is a circle with mass, radius, and physical properties. Static segments represent obstacles and boundaries.  
- Interface (UI): implemented with Pygame. Displays control buttons (Start, Stop, Reset, Draw). Allows numeric input for particle emission.  
- Emitter: controls the position at the top of the screen. Can be moved with â† â†’ arrow keys. Continuously emits particles when the simulation is running.  

## ğŸ—‚ï¸ Architecture
UI â†’ Simulator â†’ Physics Engine â†’ Render (Pygame)  
- UI: buttons, input, emitter  
- Simulator: main loop, integrates UI and Physics  
- Physics Engine: particles, collisions, gravity (Pymunk)  
- Render: draws particles and obstacles (Pygame)  

## ğŸ“Š Results and Performance
- Tested on Intel i7 + 16GB RAM + integrated GPU  
- Capable of simulating 20,000 particles in real time at 60 FPS  
- Scalability: performance depends on GPU/CPU, but the modular design allows adjustments (radius, mass, damping) for optimization  

## âœ… Tests and Quality
- Unit tests with pytest: grain creation (position, radius, mass); removal of particles outside the screen; numeric input in the emitter  
- CI/CD: GitHub Actions configured in .github/workflows/ci.yml to run tests and linting automatically  
- Linting: flake8 and black for style standardization  

## ğŸ“Œ Next Steps
- Expand performance metrics on different machines  

## ğŸ‘¨â€ğŸ’» Author
Project developed by Rodrigo Assarice as a study of granular simulation in Python.  

## ğŸ“¬ Contact
rodrigo.assarice@hotmail.com

-------------------------------------------------------------------------------------------

# ğŸ–ï¸ Simulador Granular com Pymunk e Pygame

Este projeto implementa um simulador granular em Python, utilizando Pymunk para fÃ­sica e Pygame para renderizaÃ§Ã£o. O objetivo Ã© demonstrar como partÃ­culas (grÃ£os de areia) podem ser simuladas em tempo real, interagindo com obstÃ¡culos e formando montes, de forma modular e escalÃ¡vel.

## âš™ï¸ InstalaÃ§Ã£o e ExecuÃ§Ã£o
1. Clonar o repositÃ³rio: git clone https://github.com/Likaon/Sand_Falling.git e depois cd Sand_Falling
2. Criar ambiente virtual (opcional, recomendado): python -m venv venv e ativar com venv\Scripts\activate no Windows ou source venv/bin/activate no Linux/Mac
3. Instalar dependÃªncias: pip install -r requirements.txt
4. Executar o simulador: python main.py

## ğŸ“¸ Screenshots / GIFs


## ğŸ§ª ExplicaÃ§Ã£o TÃ©cnica
- Motor fÃ­sico (PhysicsEngine): usa Pymunk para simular gravidade, colisÃµes e atrito. Cada grÃ£o Ã© um cÃ­rculo com massa, raio e propriedades fÃ­sicas. Segmentos estÃ¡ticos representam obstÃ¡culos e bordas.
- Interface (UI): implementada com Pygame. Exibe botÃµes de controle (Iniciar, Parar, Reiniciar, Desenhar). Permite input numÃ©rico para emissÃ£o de partÃ­culas.
- Emissor: controla a posiÃ§Ã£o no topo da tela. Pode ser movido com setas â† â†’. Emite partÃ­culas continuamente quando a simulaÃ§Ã£o estÃ¡ rodando.

## ğŸ—‚ï¸ Arquitetura
UI â†’ Simulator â†’ Physics Engine â†’ Render (Pygame)
- UI: botÃµes, input, emissor
- Simulator: loop principal, integra UI e FÃ­sica
- Physics Engine: partÃ­culas, colisÃµes, gravidade (Pymunk)
- Render: desenho de partÃ­culas e obstÃ¡culos (Pygame)

## ğŸ“Š Resultados e Performance
- Testado em mÃ¡quina Intel i7 + 16GB RAM + GPU integrada
- Capaz de simular 20.000 partÃ­culas em tempo real a 60 FPS
- Escalabilidade: performance depende da GPU/CPU, mas o design modular permite ajustes (raio, massa, damping) para otimizar

## âœ… Testes e Qualidade
- Testes unitÃ¡rios com pytest: criaÃ§Ã£o de grÃ£os (posiÃ§Ã£o, raio, massa); remoÃ§Ã£o de partÃ­culas fora da tela; input numÃ©rico no emissor
- CI/CD: GitHub Actions configurado em .github/workflows/ci.yml para rodar testes e linting automaticamente
- Linting: flake8 e black para padronizaÃ§Ã£o de estilo

## ğŸ“Œ PrÃ³ximos Passos
- Expandir mÃ©tricas de performance em diferentes mÃ¡quinas

## ğŸ‘¨â€ğŸ’» Autor
Projeto desenvolvido por Rodrigo Assarice como estudo de simulaÃ§Ã£o granular em Python.

## Contato
rodrigo.assarice@hotmail.com